import{a as f}from"./index-B9ygI19o.js";document.addEventListener("DOMContentLoaded",()=>{const s=window.OrderEdit;if(!s)return;const n=document.getElementById("orderEditForm"),i=n?.querySelector('button[type="submit"]');n?.addEventListener("submit",t=>{t.preventDefault(),c(t.target)});function c(t){const e=new FormData(t),a={};["notes","meta"].forEach(r=>{const o=e.get(r);if(o&&o.trim().startsWith("{"))try{a[r]=JSON.parse(o)}catch{a[r]=o}else a[r]=o||null}),u(i,!0),f.put(s.routes.update,a).then(()=>{d("success",s.messages.updated),setTimeout(()=>{window.location.href=s.routes.show},1e3)}).catch(r=>{d("error",r.response?.data?.message||"Error updating order"),u(i,!1)})}function u(t,e){t&&(e?(t.setAttribute("data-kt-indicator","on"),t.disabled=!0):(t.setAttribute("data-kt-indicator","off"),t.disabled=!1))}function d(t,e){if(window.toastr){toastr[t](e);return}if(window.Swal){Swal.fire({icon:t==="success"?"success":"error",text:e,timer:3e3,showConfirmButton:!1});return}alert(e)}});
