document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-media-input]").forEach(t=>{t.addEventListener("change",()=>{const e=t.getAttribute("data-preview-target"),a=document.querySelector(e),c=document.querySelector(`[data-remove-input="${t.name}"]`);if(c&&(c.value="0"),t.files&&t.files[0]&&a){const o=new FileReader;o.onload=n=>{a.src=n.target?.result??a.dataset.placeholder},o.readAsDataURL(t.files[0])}else a&&(a.src=a.dataset.placeholder)})}),document.querySelectorAll("[data-media-remove]").forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-media-remove"),a=document.querySelector(`input[name="${e}"]`),c=document.querySelector(t.getAttribute("data-preview-target")),o=document.querySelector(`[data-remove-input="${e}"]`);a&&(a.value=""),o&&(o.value="1"),c&&c.dataset.placeholder&&(c.src=c.dataset.placeholder)})});const l=document.querySelectorAll("[data-locale-checkbox]"),r=document.querySelectorAll("[data-locale-pane]"),s=document.querySelectorAll("[data-locale-tab]"),d=()=>{const t=Array.from(l).filter(e=>e.checked||e.disabled).map(e=>e.value);r.forEach(e=>{const a=e.getAttribute("data-locale-pane");t.includes(a)?e.classList.remove("d-none"):e.classList.add("d-none")}),s.forEach(e=>{const a=e.getAttribute("data-locale-tab");t.includes(a)?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled")})};l.forEach(t=>{t.addEventListener("change",()=>{const e=document.querySelector('[data-locale-checkbox][value="en"]');e&&!e.checked&&(e.checked=!0),d()})}),d()});
