import{a as c}from"./index-B9ygI19o.js";document.addEventListener("DOMContentLoaded",()=>{const s=window.OrderShow;if(!s)return;const u=document.getElementById("changeStatusForm"),i=document.getElementById("changePaymentStatusForm");u&&u.addEventListener("submit",t=>{t.preventDefault(),d(t.target)}),i&&i.addEventListener("submit",t=>{t.preventDefault(),m(t.target)});function d(t){const e=t.querySelector('button[type="submit"]'),o=t.querySelector('select[name="status_id"]').value;o&&(a(e,!0),c.post(s.routes.changeStatus,{status_id:o,comment:null}).then(()=>{n("success",s.messages.statusChanged),setTimeout(()=>{window.location.reload()},1e3)}).catch(r=>{n("error",r.response?.data?.message||"Error updating status"),a(e,!1)}))}function m(t){const e=t.querySelector('button[type="submit"]'),o=t.querySelector('select[name="payment_status"]').value;a(e,!0),c.post(s.routes.changePaymentStatus,{payment_status:o}).then(()=>{n("success",s.messages.paymentStatusChanged),setTimeout(()=>{window.location.reload()},1e3)}).catch(r=>{n("error",r.response?.data?.message||"Error updating payment status"),a(e,!1)})}function a(t,e){t&&(e?(t.setAttribute("data-kt-indicator","on"),t.disabled=!0):(t.setAttribute("data-kt-indicator","off"),t.disabled=!1))}function n(t,e){if(window.toastr){toastr[t](e);return}if(window.Swal){Swal.fire({icon:t==="success"?"success":"error",text:e,timer:3e3,showConfirmButton:!1});return}alert(e)}});
